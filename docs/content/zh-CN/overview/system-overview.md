# 北冥坞：学件基座系统

北冥坞基于学件范式，首次系统性地实现了学件从上传到部署的完整流程，帮助用户有效查搜和复用学件，而无需从零开始构建机器学习模型。

<!-- ## 学件范式

目前机器学习在很多领域取得了巨大的成功，但是也暴露出诸多问题：
- 训练一个好模型的条件苛刻（大量高质量有标记数据，高算力机器，专家经验）；
- 面对不断变化的环境，模型难以适应且可能出现灾难性遗忘；
- 数据隐私阻碍了不同用户间经验的分享；
- 模型通常是为特定任务设计的，难以复用到其他任务上；
- ......

虽然目前上述每一个问题都有相应的研究，但由于问题间是相互耦合的，在解决其中一个问题时，可能会导致其他问题变得更加严重。

学件范式期望通过一个整体框架同时解决上述诸多问题。学件范型期望系统的组织和复用模型来完成甚至超出其原始目的的任务，并使用户无需从零开始构建他们的机器学习模型。 -->

## 学件是什么？

学件由性能优良的机器学习模型和描述模型的**规约**构成，即「学件 = 模型 + 规约」。

学件的规约由「语义规约」和「统计规约」两部分组成：
- 语义规约通过文本对模型的类型及功能进行描述；
- 统计规约则通过各类机器学习技术，刻画模型所蕴含的统计信息。

学件的规约刻画了模型的能力，使得模型能够在未来用户事先对学件一无所知的情况下被充分识别并复用，以满足用户需求。

## 为什么需要学件基座系统？

机器学习在很多领域取得了巨大成功，但依然面临着诸多问题，例如需要大量的训练数据和高超的训练技巧、持续学习的困难、灾难性遗忘的风险以及数据隐私/所有权的泄漏等。

虽然上述每一个问题都有相应的研究，但由于问题之间是相互耦合的，在解决其中一个问题时，可能会导致其他问题变得更加严重。

学件基座系统期望通过一个整体框架，同时解决上述诸多问题：
- **缺乏训练数据/技能**：即使对于缺乏训练技能或数据量较小的普通用户，也可以获得强大的机器学习模型，因为用户可以从学件基座系统中获取性能优良的学件，并进一步调整或改进，而不是自己从头开始构建模型。
- **持续学习**：随着在各种不同任务上训练得到的、性能优良的学件被不断提交，学件基座系统中的知识将不断丰富，进而自然地实现持续和终身学习。
- **灾难性遗忘**：一旦学件被接收，它将永远被容纳在学件基座系统中，除非其各方面功能都可以被其他学件所替代。因此，学件基座系统中的旧知识总是会被保留，而不会被遗忘。
- **数据隐私/所有权**：开发者只提交模型而不共享私有数据，因此数据隐私/所有权可以得到很好的保护。尽管无法完全排除对模型进行逆向工程的可能性，但与许多其它隐私保护方案相比，学件基座系统泄露隐私的风险非常小。


## 学件基座系统是如何工作的？

学件基座系统是学件范式的核心实体。在学件范式中，共有三个重要实体：
- **开发者**：通常是机器学习专家，生产并希望分享/出售他们性能优良的机器学习模型。
- **用户**：需要机器学习服务，但通常只拥有有限的数据，并且缺乏机器学习知识和技能。
- **学件基座系统**：从开发者那里接收性能优良的机器学习模型，将它们纳入系统，并通过识别和复用学件向用户提供服务，以帮助用户解决当前的任务。

如下图所示，系统工作流程分为以下两个阶段：

- **提交阶段**：开发者自发地提交各式各样的学件到**学件基座系统**，而系统会对这些学件进行质量检查和进一步的组织。
- **部署阶段**：当用户提交任务需求后，**学件基座系统**会根据学件规约推荐对用户任务有帮助的学件并指导用户进行部署和复用。

![Fig_design](.../../../../public/learnware_workflow.svg)

### 规约世界

规约是学件基座系统的核心组件，串联了系统中关于学件的全部流程，包括学件上传、组织、查搜、部署与复用。

来自不同特征/标记空间的学件，构成众多的规约岛屿，所有规约岛屿共同构成学件基座系统中的**规约世界**。在规约世界中，如果能够发现并建立不同岛屿之间的联系，那么相对应的规约岛屿将可以进行合并。

![Fig_world](../../public/specification_world.jpg)

学件基座系统在查搜时，首先通过用户需求中的语义规约定位到具体的规约岛屿，再通过用户需求中的统计规约对规约岛上的学件进行精确识别。

不同的规约岛屿合并，则意味着相应的学件可以被用于不同特征/标记空间的任务上，即可以复用至超出其原始目的的任务中。


## 北冥坞系统有哪些特性？

北冥坞首次系统性地实现了学件范式中的核心流程：

- **提交阶段**：系统内置了多重检测机制，以确保上传学件的质量。一旦学件的数量达到一定程度，系统将利用现有学件的规约来训练一个引擎，这个引擎能够将分散在各个规约空间的学件整合到同一个规约世界中，并为这些学件赋予独特的新规约。随着更多学件的上传，该引擎将持续更新，以构建更加精准的规约世界，从而实现学件规约的持续迭代。
- **部署阶段**：用户上传任务需求后，系统会自动选择是推荐单个学件还是多个学件的组合，并提供一键式部署服务。用户既可以直接使用学件进行预测，也可以用自己的数据进行微调。无论是单个学件还是多个学件的组合，系统均提供了便捷的复用工具。

此外，北冥坞系统还具备以下特性：

- **高度可扩展的接口设计**：核心组件为learnware包，该Python包对学件范型中的关键概念（如规约、学件、学件市场）以及核心流程（包括学件检查、组织、查搜、复用）进行了系统级实现和优化，并且具有高度的可扩展性。这意味着未来新的规约设计、学件市场设计、学件复用方法的出现都能轻松集成至learnware包中。
- **规约生成支持多种数据类型，同时保护数据隐私**：规约作为学件的核心组件和用户提交任务需求的载体，对于保护数据隐私至关重要。北冥坞系统提供的工具支持多种数据类型（如表格、图像、文本）的统计规约生成，所有计算过程均在本地完成，不涉及数据上传，有效保障了开发者和用户的隐私安全。
- **多学件查搜能力**：得益于规约的存在，学件市场能够基于用户任务的统计和语义信息进行查搜。在一些情况下，市场中的单个学件可能与用户任务高度匹配；在其他情况下，尽管市场中可能没有完全匹配的单个学件，但系统会尝试多个学件的组合来满足用户任务的统计需求，实现多学件查搜。
- **对异构表格模型查搜复用的初步支持**：多模态数据很少遇到异构特征空间的问题，但对于表格数据，异构性却十分常见。北冥坞系统首次尝试在无需辅助数据、不接触原始数据的条件下，通过规约世界解决异构表格模型查搜复用的问题。

北冥坞：学件基座系统代表了学件范型的首个系统级实现。虽然其基础搭建得相对扎实，但相关技术仍有改进空间。我们诚邀各位体验并为系统的持续改进提出宝贵意见。