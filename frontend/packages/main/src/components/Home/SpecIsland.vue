<script setup lang="ts">
import { ref, onMounted, nextTick } from "vue";
import { useI18n } from "vue-i18n";
import ScrollAnimate from "../App/ScrollAnimate.vue";
import anime from "animejs";

const { t } = useI18n();

const reference = ref<HTMLElement>();

const hand1Element = ref<SVGElement | null>(null);
const hand2Element = ref<SVGElement | null>(null);
const hand3Element = ref<SVGElement | null>(null);
const hand4Element = ref<SVGElement | null>(null);

const t1 = anime.timeline({
  easing: "easeInOutSine",
  autoplay: false,
});
const progress = ref(0);

function handleProgress(p: number): void {
  progress.value = p;
  t1.seek(t1.duration * p);
}

onMounted(() => {
  nextTick(() => {
    t1.add({
      targets: hand1Element.value,
      translateX: [-4, 0],
      translateY: [-4, 0],
      duration: 500,
    })
      .add(
        {
          targets: hand2Element.value,
          translateX: [4, 0],
          translateY: [-4, 0],
          duration: 500,
        },
        "-=200",
      )
      .add(
        {
          targets: hand3Element.value,
          translateX: [-4, 0],
          translateY: [4, 0],
          duration: 500,
        },
        "-=400",
      )
      .add(
        {
          targets: hand4Element.value,
          translateX: [4, 0],
          translateY: [4, 0],
          duration: 500,
        },
        "-=100",
      )
      .add({ duration: 200 });
  });
});
</script>

<template>
  <scroll-animate class="h-[300vh]" @progress="handleProgress">
    <div ref="reference" class="md:pb-30 mx-auto grid w-full max-w-[1200px] pb-20 md:grid-cols-2">
      <div class="flex flex-col justify-center px-5 md:px-0 md:pl-10">
        <div class="my-5 text-3xl lg:my-7 lg:text-4xl xl:my-10 xl:text-5xl">
          {{ t("Home.SpecificationWorld.Title") }}
        </div>
        <p class="text-gray-500">
          {{ t("Home.SpecificationWorld.Description") }}
        </p>
      </div>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
        <g ref="hand1Element" id="hand1" class="hand">
          <path
            fill="#308014"
            d="M16,20v12h4c0,2.21,1.79,4,4,4s4-1.79,4-4h4v-4c-2.21,0-4-1.79-4-4c0-2.21,1.79-4,4-4v-4H20 C17.791,16,16,17.791,16,20z"
          />
          <path
            fill="#207004"
            d="M16,27v-3h8.5c0.828,0,1.5,0.672,1.5,1.5v0c0,0.828-0.672,1.5-1.5,1.5H16z"
          />
          <path
            fill="#F0C8A0"
            d="M24.5,23H16c0.828,0,1.5-0.672,1.5-1.5S16.828,20,16,20c0.828,0,1.5-0.672,1.5-1.5S16.828,17,16,17 c0.828,0,1.5-0.672,1.5-1.5S16.828,14,16,14H8c-0.74,0-1.386,0.402-1.732,1H4v10h2.126c0.444,1.725,2.01,3,3.874,3h2 c1.105,0,2-0.895,2-2h10.5c0.828,0,1.5-0.672,1.5-1.5S25.328,23,24.5,23z"
          />
          <path
            fill="#D2AA82"
            d="M12,27H9.874c-1.48,0-2.772-0.805-3.464-2H6.126c0.444,1.725,2.01,3,3.874,3h2c1.105,0,2-0.895,2-2v-1 C14,26.105,13.105,27,12,27z"
          />
          <path
            fill="#D2AA82"
            d="M16,22h-1v1h1c0.828,0,1.5-0.672,1.5-1.5c0-0.175-0.03-0.344-0.086-0.5 C17.208,21.583,16.653,22,16,22z"
          />
          <path
            fill="#D2AA82"
            d="M16,19h-1v1h1c0.828,0,1.5-0.672,1.5-1.5c0-0.175-0.03-0.344-0.086-0.5 C17.208,18.583,16.653,19,16,19z"
          />
          <path
            fill="#D2AA82"
            d="M16,16h-1v1h1c0.828,0,1.5-0.672,1.5-1.5c0-0.175-0.03-0.344-0.086-0.5 C17.208,15.583,16.653,16,16,16z"
          />
          <g>
            <path
              fill="#D2AA82"
              d="M24.5,25H10v1h14.5c0.828,0,1.5-0.672,1.5-1.5c0-0.175-0.03-0.344-0.086-0.5 C25.708,24.583,25.153,25,24.5,25z"
            />
          </g>
        </g>
        <g ref="hand2Element" id="hand2" class="hand">
          <path
            fill="#fdd835"
            d="M28,24c0,2.21,1.79,4,4,4v4h4c0-2.21,1.79-4,4-4s4,1.79,4,4h4V20c0-2.209-1.791-4-4-4H32v4 C29.79,20,28,21.79,28,24z"
          />
          <path
            fill="#edc825"
            d="M29,24c0-2.21,1.79-4,4-4v-4h-1v4c-2.21,0-4,1.79-4,4c0,2.21,1.79,4,4,4v4h1v-4 C30.79,28,29,26.21,29,24z"
          />
          <path
            fill="#edc825"
            d="M37,16h3v8.5c0,0.828-0.672,1.5-1.5,1.5l0,0c-0.828,0-1.5-0.672-1.5-1.5V16z"
          />
          <path
            fill="#F0C8A0"
            d="M49,6.268V4H39v2.126C37.275,6.57,36,8.136,36,10v2c0,1.105,0.895,2,2,2v10.5c0,0.828,0.672,1.5,1.5,1.5 s1.5-0.672,1.5-1.5V16c0,0.828,0.672,1.5,1.5,1.5S44,16.828,44,16c0,0.828,0.672,1.5,1.5,1.5S47,16.828,47,16 c0,0.828,0.672,1.5,1.5,1.5S50,16.828,50,16V8C50,7.26,49.598,6.614,49,6.268z"
          />
          <path
            fill="#D2AA82"
            d="M37,12V9.874c0-1.48,0.805-2.772,2-3.464V6.126C37.275,6.57,36,8.136,36,10v2c0,1.105,0.895,2,2,2h1 C37.895,14,37,13.105,37,12z"
          />
          <path
            fill="#D2AA82"
            d="M42,16v-1h-1v1c0,0.828,0.672,1.5,1.5,1.5c0.175,0,0.344-0.03,0.5-0.086 C42.417,17.208,42,16.653,42,16z"
          />
          <path
            fill="#D2AA82"
            d="M45,16v-1h-1v1c0,0.828,0.672,1.5,1.5,1.5c0.175,0,0.344-0.03,0.5-0.086 C45.417,17.208,45,16.653,45,16z"
          />
          <path
            fill="#D2AA82"
            d="M48,16v-1h-1v1c0,0.828,0.672,1.5,1.5,1.5c0.175,0,0.344-0.03,0.5-0.086 C48.417,17.208,48,16.653,48,16z"
          />
          <g>
            <path
              fill="#D2AA82"
              d="M39,24.5V10h-1v14.5c0,0.828,0.672,1.5,1.5,1.5c0.175,0,0.344-0.03,0.5-0.086 C39.417,25.708,39,25.153,39,24.5z"
            />
          </g>
        </g>
        <g ref="hand3Element" id="hand3" class="hand">
          <path
            fill="#fc4d00"
            d="M16,32v12c0,2.209,1.791,4,4,4h12v-4c2.21,0,4-1.79,4-4c0-2.21-1.79-4-4-4v-4h-4c0,2.21-1.79,4-4,4 s-4-1.79-4-4H16z"
          />
          <path
            fill="#ec3d00"
            d="M24,37c2.21,0,4-1.79,4-4h4v-1h-4c0,2.21-1.79,4-4,4s-4-1.79-4-4h-4v1h4C20,35.21,21.79,37,24,37z"
          />
          <path
            fill="#ec3d00"
            d="M27,48h-3v-8.5c0-0.828,0.672-1.5,1.5-1.5h0c0.828,0,1.5,0.672,1.5,1.5V48z"
          />
          <path
            fill="#F0C8A0"
            d="M26,50V39.5c0-0.828-0.672-1.5-1.5-1.5S23,38.672,23,39.5V48c0-0.828-0.672-1.5-1.5-1.5S20,47.172,20,48 c0-0.828-0.672-1.5-1.5-1.5S17,47.172,17,48c0-0.828-0.672-1.5-1.5-1.5S14,47.172,14,48v8c0,0.74,0.402,1.386,1,1.732V60h10 v-2.126c1.725-0.444,3-2.01,3-3.874v-2C28,50.895,27.105,50,26,50z"
          />
          <path
            fill="#D2AA82"
            d="M26,50h-1c1.105,0,2,0.895,2,2v2.126c0,1.48-0.805,2.772-2,3.464v0.284c1.725-0.444,3-2.01,3-3.874v-2 C28,50.895,27.105,50,26,50z"
          />
          <path
            fill="#D2AA82"
            d="M22,48v1h1v-1c0-0.828-0.672-1.5-1.5-1.5c-0.175,0-0.344,0.03-0.5,0.086 C21.583,46.792,22,47.347,22,48z"
          />
          <path
            fill="#D2AA82"
            d="M19,48v1h1v-1c0-0.828-0.672-1.5-1.5-1.5c-0.175,0-0.344,0.03-0.5,0.086 C18.583,46.792,19,47.347,19,48z"
          />
          <path
            fill="#D2AA82"
            d="M16,48v1h1v-1c0-0.828-0.672-1.5-1.5-1.5c-0.175,0-0.344,0.03-0.5,0.086 C15.583,46.792,16,47.347,16,48z"
          />
          <path
            fill="#D2AA82"
            d="M25,39.5V54h1V39.5c0-0.828-0.672-1.5-1.5-1.5c-0.175,0-0.344,0.03-0.5,0.086 C24.583,38.292,25,38.847,25,39.5z"
          />
        </g>
        <g ref="hand4Element" id="hand4" class="hand">
          <path
            fill="#4b4fa6"
            d="M36,40c0,2.21-1.79,4-4,4v4h12c2.209,0,4-1.791,4-4V32h-4c0-2.21-1.79-4-4-4s-4,1.79-4,4h-4v4 C34.21,36,36,37.79,36,40z"
          />
          <path
            fill="#3b3f96"
            d="M37,40c0-2.21-1.79-4-4-4v-4h-1v4c2.21,0,4,1.79,4,4c0,2.21-1.79,4-4,4v4h1v-4 C35.21,44,37,42.21,37,40z"
          />
          <path
            fill="#3b3f96"
            d="M40,28c-2.21,0-4,1.79-4,4h-4v1h4c0-2.21,1.79-4,4-4s4,1.79,4,4h4v-1h-4C44,29.79,42.21,28,40,28z"
          />
          <path
            fill="#3b3f96"
            d="M48,37v3h-8.5c-0.828,0-1.5-0.672-1.5-1.5l0,0c0-0.828,0.672-1.5,1.5-1.5H48z"
          />
          <path
            fill="#F0C8A0"
            d="M60,39h-2.126c-0.444-1.725-2.01-3-3.874-3h-2c-1.105,0-2,0.895-2,2H39.5c-0.828,0-1.5,0.672-1.5,1.5 s0.672,1.5,1.5,1.5H48c-0.828,0-1.5,0.672-1.5,1.5S47.172,44,48,44c-0.828,0-1.5,0.672-1.5,1.5S47.172,47,48,47 c-0.828,0-1.5,0.672-1.5,1.5S47.172,50,48,50h8c0.74,0,1.386-0.402,1.732-1H60V39z"
          />
          <path
            fill="#D2AA82"
            d="M57.59,39h0.284c-0.444-1.725-2.01-3-3.874-3h-2c-1.105,0-2,0.895-2,2v1c0-1.105,0.895-2,2-2h2.126 C55.606,37,56.898,37.805,57.59,39z"
          />
          <path
            fill="#D2AA82"
            d="M48,42h1v-1h-1c-0.828,0-1.5,0.672-1.5,1.5c0,0.175,0.03,0.344,0.086,0.5 C46.792,42.417,47.347,42,48,42z"
          />
          <path
            fill="#D2AA82"
            d="M48,45h1v-1h-1c-0.828,0-1.5,0.672-1.5,1.5c0,0.175,0.03,0.344,0.086,0.5 C46.792,45.417,47.347,45,48,45z"
          />
          <path
            fill="#D2AA82"
            d="M48,48h1v-1h-1c-0.828,0-1.5,0.672-1.5,1.5c0,0.175,0.03,0.344,0.086,0.5 C46.792,48.417,47.347,48,48,48z"
          />
          <path
            fill="#D2AA82"
            d="M39.5,39H54v-1H39.5c-0.828,0-1.5,0.672-1.5,1.5c0,0.175,0.03,0.344,0.086,0.5 C38.292,39.417,38.847,39,39.5,39z"
          />
        </g>
      </svg>
    </div>
  </scroll-animate>
</template>

<style scoped lang="scss">
#hand1 {
  transform: translate(-4px, -4px);
}

#hand2 {
  transform: translate(4px, -4px);
}

#hand3 {
  transform: translate(-4px, 4px);
}

#hand4 {
  transform: translate(4px, 4px);
}
</style>
